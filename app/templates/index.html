<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-g">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinancePRO</title>
    <style>
        body { font-family: sans-serif; margin: 2em; }
        .receita { color: green; }
        .despesa { color: red; }
    </style>
</head>
<body>
    <h1>Meu Controle Financeiro</h1>

    <hr>

    <h2>Adicionar Nova Transação</h2>
    <form action="/adicionar" method="POST">
        <label for="tipo">Tipo:</label>
        <select name="tipo" id="tipo" required>
            <option value="receita">Receita</option>
            <option value="despesa">Despesa</option>
        </select>
        <br><br>
        <label for="descricao">Descrição:</label>
        <input type="text" name="descricao" id="descricao" required>
        <br><br>
        <label for="valor">Valor (R$):</label>
        <input type="number" name="valor" id="valor" step="0.01" required>
        <br><br>
        <button type="submit">Adicionar</button>
    </form>

    <hr>

    <h2>Histórico de Transações</h2>
    <ul>
                {% for transacao in transacoes %}
                    <li class="{{ transacao.tipo }}">
                        {{ transacao.data.strftime('%d/%m/%Y') }} - {{ transacao.descricao }}: R$ {{ "%.2f"|format(transacao.valor) }}
                        
                        <form action="{{ url_for('main.excluir', id=transacao.id) }}" method="POST" style="display: inline; margin-left: 10px;">
                            <button type="submit">Excluir</button>
                        </form>
                    </li>
                {% else %}
                    <li>Nenhuma transação registrada ainda.</li>
                {% endfor %}
            </ul>

    <h2>Saldo Total: <span class="{{ 'receita' if saldo >= 0 else 'despesa' }}">R$ {{ "%.2f"|format(saldo) }}</span></h2>
</body>
</html>